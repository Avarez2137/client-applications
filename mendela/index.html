<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zad 3</title>
    <style>
      * {
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <textarea id="text" cols="10" rows="20"></textarea>
    <script>
      function randomArray(cols, rows, characters) {
        let textArray = [];
        for (let i = 0; i < rows; ++i) {
          let temp = "";
          for (let j = 0; j < cols; ++j) {
            if (Math.random() <= 0.05) {
              randomCharacter = Math.floor(Math.random() * characters.length);
              temp += characters.charAt(randomCharacter);
            } else {
              temp += " ";
            }
          }
          temp += "\n";
          textArray.push(temp);
        }
        return textArray;
      }

      const text = document.getElementById("text");
      const cols = document.getElementById("text").cols;
      const rows = document.getElementById("text").rows;
      const emptySpace = " ".repeat(cols);
      const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";

      let textArray = randomArray(cols, rows, characters);
      let bool = false;

      let emptyArray = [];
      // for (let i = 0; i < textArray.length; ++i) {
      //   emptyArray.push(emptySpace);
      // }

      window.setInterval(() => {
        if (textArray.length === 0) {
          textArray = randomArray(cols, rows, characters);
        }
        temp = textArray.pop();
        // console.log(textArray);
        emptyArray.unshift(temp);
        console.log(emptyArray);
        text.value = emptyArray.join("\n");
        console.log(emptyArray.join("\n").length);
      }, 4000);
    </script>
  </body>
</html>
