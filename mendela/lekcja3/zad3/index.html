<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zad 3</title>
    <style>
      * {
        font-family: monospace;
      }
    </style>
  </head>
  <body>
    <textarea id="text" cols="30" rows="10"></textarea>
    <script>
      const text = document.getElementById("text");
      const cols = document.getElementById("text").cols;
      const rows = document.getElementById("text").rows;
      const characters = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";

      let dupa = "";
      for (let i = 0; i < cols; ++i) {
        dupa += " ";
      }

      function randomArray(cols, rows, characters) {
        let textArray = [];
        for (let i = 0; i < rows; ++i) {
          let temp = "";
          for (let j = 0; j < cols; ++j) {
            if (Math.random() <= 0.05) {
              randomCharacter = Math.floor(Math.random() * characters.length);
              temp += characters.charAt(randomCharacter);
            } else {
              temp += " ";
            }
          }
          temp += "\n";
          textArray.push(temp);
        }
        return textArray;
      }

      let textArray = randomArray(cols, rows, characters);
      textString = textArray.join("\n");
      text.value = textString;

      window.setInterval(() => {
        textArray = textString.split("\n");
        textArray.pop();
        textArray.unshift(dupa);
        textString = textArray.join("\n");
        text.value = textString;
      }, 1000);
    </script>
  </body>
</html>
